<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart-rate chart</title>
    <style type="text/css">
      .chartBox{
        width: 800px;
        height:400px;
      }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body class="bg-light">
    <input type="file" id="uploadfile" accept=".csv">
    <button id="uploadconfirm">Upload File</button>
    <hr>
    <button onclick="updateChart('ageData')">age Data</button>
    <button onclick="updateChart('sexData')">sex Data</button>
    <button onclick="updateChart('cpData')">cp Data</button>
    <button onclick="updateChart('trtbpsData')">trtbps Data</button>
    <button onclick="updateChart('cholData')">chol Data</button>
    <button onclick="updateChart('fbsData')">fbs Data</button>
    <button onclick="updateChart('restecgData')">restecg Data</button>
    <button onclick="updateChart('thalachhData')">thalachh Data</button>
    <button onclick="updateChart('exngData')">exng Data</button>
    <button onclick="updateChart('oldpeakData')">oldpeak Data</button>
    <button onclick="updateChart('slpData')">slp Data</button>
    <button onclick="updateChart('caaData')">caa Data</button>
    <button onclick="updateChart('thallData')">thall Data</button>
    <button onclick="updateChart('outputData')">output Data</button>
     <div class="chartBox">  
    <canvas id="myChart" ></canvas>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.3.2/papaparse.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ageData=[];
        const sexData=[];
        const cpData=[];
        const trtbpsData=[];
        const cholData=[];
        const fbsData=[];
        const restecgData=[];
        const thalachhData=[];
        const exngData=[];
        const oldpeakData=[];
        const slpData=[];
        const caaData=[];
        const thallData=[];
        const outputData=[];
        
        const uploadconfirm=document.getElementById ('uploadconfirm').
          addEventListener('click', () =>{
         Papa.parse(document.getElementById ('uploadfile').files [0],
          {
           download: true,
           header: true,
           skipEmptyLines: true,
           complete: function(results){
           console.log( results);
           for( i=0;i<results.data.length;i++){
            ageData.push( results. data[i].age);
            sexData.push( results. data[i].sex);
            cpData.push( results. data[i].cp);
            trtbpsData.push( results. data[i].trtbps);
            cholData.push( results. data[i].chol);
            fbsData.push( results. data[i].fbs);
            restecgData.push( results. data[i].restecg);
            thalachhData.push( results. data[i].thalachh);
            exngData.push( results. data[i].exng);
            oldpeakData.push( results. data[i].oldpeak);
            slpData.push( results. data[i].slp);
            caaData.push( results. data[i].caa);
            thallData.push( results. data[i].thall);
            outputData.push( results. data[i].output);
            
            }
            console.log(ageData);
            console.log(sexData);
           console.log(cpData);
           console.log(trtbpsData);
           console.log(cholData);
           console.log(fbsData);
           console.log(restecgData );
           console.log(thalachhData);
           console.log(exngData);
           console.log(oldpeakData);
           console.log(slpData);
           console.log(caaData);
           console.log(thallData);
           console.log(outputData);
           }
          });
        });
      //setup block
      const data = {
        labels: ['age','sex','cp','trtbps','chol','fbs','restecg','thalachh','exng','oldpeak','slp','caa','thall','output'],	


datasets: [ {
    label: 'dataset',
    data: [
63,37,41,56,57,57,56,44,52,57,54,48,49,64,58,50,58,66,43,69,59,44,42,61,40,71,59,51,65,53,41,65,4454,51,46,54,54,65,65,51,48,45,53,39,52,44,47,53,53,51,66,62,44,63,52,48,45,34,57,71,54,52,41,58,35,51,45,44,62,54,51,29,51,43,55,
51,
59,
52,
58,
41,
45,
60,
52,
42,
67,
68,
46,
54,
58,
48,
57,
52,
54,
45,
53,
62,
52,
43,
53,
42,
59,
63,
42,
50,
68,
69,
45,
50,
50,
64,
57,
64,
43,
55,
37,
41,
56,
46,
46,
64,
59,
41,
54,
39,
34,
47,
67,
52,
74,
54,
49,
42,
41,
41,
49,
60,
62,
57,
64,
51,
43,
42,
67,
76,
70,
44,
60,
44,
42,
66,
71,
64,
66,
39,
58,
47,
35,
58,
56,
56,
55,
41,
38,
38,
67,
67,
62,
63,
53,
56,
48,
58,
58,60,40,60,64,43,57,55,65,61,58,50,44,60,54,50,41,51,58,54,60,60,59,46,67,62,65,44,60,58,68,62,52,59,60,49,59,57,61,39,61,56,43,62,63,65,48,63,55,65,56,54,70,62,35,59,64,47,57,55,64,70,51,58,60,77,35,70,59,64,57,56,48,56,66,54,69,51,43,62,67,59,45,58,50,62,38,66,52,53,63,54,66,55,49,54,56,46,61,67,58,47,52,58,57,58,61,42,52,59,40,61,46,59,57,57,55,61,58,58,67,44,63,63,59,57,45,68,57,57
],
    fill: true,
    backgroundColor: 'rgba(54, 162, 235, 0.2)',
    borderColor: 'rgb(54, 162, 235)'
   
  }]
};
//config
const config = {
type: 'bar',
data,
options: {
scales: {
    y: {
        beginAtZero: true
    }
}
}
};
      //init render block

        var myChart=new Chart(
          document.getElementById ('myChart'),
           config
        );
        
          function updateChart(label){
            myChart.data.datasets[0].label= label; 
          
            if (label=== "ageData"){
             myChart.data.datasets [0].data= ageData;
            }
            if (label=== "sexData"){
             myChart.data.datasets [0].data= sexData;
            }
          if (label=== "cpData"){
             myChart.data.datasets [0].data= cpData;

          }
          
          if (label=== "trtbpsData"){
             myChart.data.datasets [0].data= trtbpsData;

          }
          
          if (label=== "cholData"){
             myChart.data.datasets [0].data= cholData;

          }
          
          if (label=== "fbsData"){
             myChart.data.datasets [0].data= fbsData;
          }
          
          if (label === "restecgData"){
             myChart.data.datasets [0].data= restecgData;

          }
          
          if (label=== "thalachhData"){
             myChart.data.datasets [0].data= thalachhData;

          }
          
          if (label=== "exngData"){
             myChart.data.datasets [0].data= exngData;

          }
          if (label=== "oldpeakData"){
             myChart.data.datasets [0].data= oldpeakData;

          }

          if (label=== "slpData"){
             myChart.data.datasets [0].data= slpData;

          }
          if (label=== "caaData"){
             myChart.data.datasets [0].data= caaData;

          }
          if (label=== "thallData"){
             myChart.data.datasets [0].data= thallData;

          }
          if (label=== "outputData"){
             myChart.data.datasets [0].data= outputData;

          }


            myChart.update();
        };
        

     
      </script>
    
    
    


</body>
</html>
